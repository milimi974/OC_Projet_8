{% extends 'layouts/base.html' %}
{% load static %}
{% block title %} {{ title }} {% endblock %}
{% block content %}

<header class="bg-dark text-center text-white d-flex page-header" style="background-image: url('{{ product.picture }}');">
  <div class="container my-auto">
    <div class="row">
      <div class="col-lg-12 mx-auto">
        <h1 class="text-uppercase">
          <strong>{{ product.name }} </strong>
        </h1>
        <hr>
      </div>
    </div>
  </div>
</header>


<section class="p-0" id="product-show">
  <div class="container ">
    <div class="row">
      <div class="col  text-center">
          <h3>Nutriscore</h3>
          {% if product.nutri_code and product.nutri_code.strip %}
            <img src="{% static 'img/nutriscore-'|add:product.nutri_code|add:'.png' %}" alt="nutri-code de l'aliment valeur {{ product.nutri_code|upper }}">

          {% else %}
            Aucune valeur nutriscore renseigné
          {% endif %}
      </div>
      <div class="col ">
          <h3 class=" text-center">Repères nutritionnels pour 100g</h3>
          <ul class="nutrionnal list-group">
              <li class="list-group-item">

                  {% if product.fat > 20 %}

                      <span class="code-color nutri-bad"></span>
                      <span>
                      {{ product.fat|floatformat:"-2" }} g <span class="font-weight-bold">Matières grasses / Lipides</span> élevée</span>
                  {% elif product.fat >= 3 %}
                  <span class="code-color nutri-medium"></span>
                  <span>
                      {{ product.fat|floatformat:"-2" }} g <span class="font-weight-bold">Matières grasses / Lipides</span> modérée</span>
                  {% else %}
                    <span class="code-color nutri-good"></span>
                  <span>
                      {{ product.fat|floatformat:"-2" }} g <span class="font-weight-bold">Matières grasses / Lipides</span> faible</span>
                  {% endif %}

              </li>
              <li class="list-group-item">

                  {% if product.saturated_fat > 5 %}

                      <span class="code-color nutri-bad"></span>
                      <span>
                      {{ product.saturated_fat|floatformat:"-2" }} g <span class="font-weight-bold">Acides gras saturés</span> élevée</span>
                  {% elif product.saturated_fat >= 1.5 %}
                  <span class="code-color nutri-medium"></span>
                  <span>
                      {{ product.saturated_fat|floatformat:"-2" }} g <span class="font-weight-bold">Acides gras saturés</span> modérée</span>
                  {% else %}
                    <span class="code-color nutri-good"></span>
                  <span>
                      {{ product.saturated_fat|floatformat:"-2" }} g <span class="font-weight-bold">Acides gras saturés</span> faible</span>
                  {% endif %}

              </li>
              <li class="list-group-item">

                  {% if product.sugars > 12.5 %}

                      <span class="code-color nutri-bad"></span>
                      <span>
                      {{ product.sugars|floatformat:"-2" }} g <span class="font-weight-bold">Sucres</span> élevée</span>
                  {% elif product.sugars >= 5 %}
                  <span class="code-color nutri-medium"></span>
                  <span>
                      {{ product.sugars|floatformat:"-2" }} g <span class="font-weight-bold">Sucres</span> modérée</span>
                  {% else %}
                    <span class="code-color nutri-good"></span>
                  <span>
                      {{ product.sugars|floatformat:"-2" }} g <span class="font-weight-bold">Sucres</span> faible</span>
                  {% endif %}

              </li>
              <li class="list-group-item">

                  {% if product.salt > 1.5 %}

                      <span class="code-color nutri-bad"></span>
                      <span>
                      {{ product.salt|floatformat:"-2" }} g <span class="font-weight-bold">Sel</span> élevée</span>
                  {% elif product.salt >= 0.3 %}
                  <span class="code-color nutri-medium"></span>
                  <span>
                      {{ product.salt|floatformat:"-2" }} g <span class="font-weight-bold">Sel</span> modérée</span>
                  {% else %}
                    <span class="code-color nutri-good"></span>
                  <span>
                      {{ product.salt|floatformat:"-2" }} g <span class="font-weight-bold">Sel</span> faible</span>
                  {% endif %}

              </li>
          </ul>
      </div>
    </div>
    <div class="text-center">
      <a href="{{ product.link }}" class="btn btn-outline-caramel">Voir la fiche d'OpenFoodFacts</a>
    </div>
  </div>
</section>


{% endblock %}
